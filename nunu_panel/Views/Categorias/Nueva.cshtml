@model CategoriaModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Nueva categoría";
}

<div class="container">
    <a asp-controller="Categorias" asp-action="Index" class="btn btn-link mt-1" style="color: gray;">
        <i class="fas fa-arrow-left"></i> Volver
    </a>

    <h3 class="mt-4">Agregar nueva categoría</h3>

    <div class="row mb-3">
        <div class="col-md-12 div-nav-pages">
            <span>Categorías <strong>></strong> Agregar categoría</span>
        </div>
    </div>

    <div class="row">
        <div class="col-6">
            <form asp-action="Nueva" method="post" enctype="multipart/form-data">

                <div asp-validation-summary="All" class="text-danger"></div>

                <div class="mb-3">
                    <input asp-for="id_categoria" type="hidden" readonly>
                    <label class="form-label">Nombre de la categoría</label>
                    <input asp-for="categoria" type="text" class="form-control" required>
                    <span asp-validation-for="categoria" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <img id="imagePreview" src="" alt="" width="300" />
                    <input asp-for="Imagen" class="form-control mt-2" width="30px" accept="image/*" onchange="previewImage(event)" required>
                    <span asp-validation-for="Imagen" class="text-danger"></span>
                </div>

                <div class="d-flex justify-content-between mt-2">
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save"></i> Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    function previewImage(event) {
        const reader = new FileReader();
        reader.onload = function () {
            const output = document.getElementById('imagePreview');
            output.src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/@@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js"></script>
<!-- Scripts de Bootstrap y Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
